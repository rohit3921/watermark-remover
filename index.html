<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watermark Remover</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
</head>
<body>
    <div id="app">
        <h1>Watermark Remover</h1>
        <div v-if="!videoUploaded">
            <input type="file" @change="uploadVideo" accept="video/*">
            <p>Upload a video (max 20 minutes)</p>
        </div>
        <div v-if="videoUploaded && !imageUploaded">
            <input type="file" @change="uploadImage" accept="image/*">
            <p>Upload an image to cover the watermark</p>
        </div>
        <div v-if="videoUploaded && imageUploaded" class="video-container">
            <video ref="video" :src="videoSrc" controls></video>
            <canvas ref="canvas" @mousedown="startDrag" @mousemove="drag" @mouseup="stopDrag" @touchstart="startDrag" @touchmove="drag" @touchend="stopDrag"></canvas>
        </div>
        <button v-if="videoUploaded && imageUploaded" @click="processVideo">Process Video</button>
        <a v-if="processedVideoUrl" :href="processedVideoUrl" download="processed_video.webm">Download Processed Video</a>
    </div>
    <script src="app.js"></script>
</body>
</html>
